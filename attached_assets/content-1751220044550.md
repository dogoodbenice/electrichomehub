# Developer API

White-label our platform and build custom Electric Home Hub solutions

## API Key Management

### Production Key

PROD

ehk\_prod\_1234567890abcdef

CopyRevoke

### Development Key

DEV

ehk\_dev\_abcdef1234567890

CopyRevoke

Generate New API Key

## API Endpoints

### Device Management

GET `/api/devices`

Retrieve all devices for the authenticated user

```
{
  "devices": [\
    {\
      "id": "device_123",\
      "name": "Smart Thermostat",\
      "manufacturer": "Nest",\
      "model": "T3007ES",\
      "status": "active",\
      "warranty_expiry": "2025-12-31"\
    }\
  ]
}
```

POST `/api/devices`

Add a new device to the system

```
{
  "name": "Smart Refrigerator",
  "manufacturer": "Samsung",
  "model": "RF28R7351SR",
  "serial_number": "ABC123456",
  "warranty_expiry": "2026-06-15"
}
```

PUT `/api/devices/{id}`

Update an existing device

```
PUT /api/devices/device_123
{
  "name": "Smart Refrigerator Pro",
  "location": "Updated Kitchen",
  "warranty_expiry": "2026-12-31"
}

// Response
{
  "id": "device_123",
  "name": "Smart Refrigerator Pro",
  "manufacturer": "Samsung",
  "model": "RF28R7351SR",
  "location": "Updated Kitchen",
  "warranty_expiry": "2026-12-31",
  "updated_at": "2024-12-29T10:30:00Z"
}
```

DELETE `/api/devices/{id}`

Remove a device from the system

```
DELETE /api/devices/device_123

// Response
{
  "message": "Device successfully deleted",
  "deleted_id": "device_123"
}
```

### Document Management

GET `/api/documents`

List all documents with optional filtering

```
GET /api/documents?category=Manual&device_id=device_123

// Response
{
  "documents": [\
    {\
      "id": "doc_456",\
      "name": "Smart Refrigerator Manual",\
      "device_id": "device_123",\
      "category": "Manual",\
      "file_type": "pdf",\
      "file_size": 2457600,\
      "upload_date": "2024-12-15T09:00:00Z",\
      "download_url": "/api/documents/doc_456/download"\
    }\
  ],
  "total": 1,
  "page": 1
}
```

POST `/api/documents`

Upload a new document

```
POST /api/documents
Content-Type: multipart/form-data

{
  "file": [binary data],
  "name": "Thermostat Installation Guide",
  "category": "Manual",
  "device_id": "device_789"
}

// Response
{
  "id": "doc_790",
  "name": "Thermostat Installation Guide",
  "device_id": "device_789",
  "category": "Manual",
  "file_type": "pdf",
  "file_size": 1024000,
  "upload_date": "2024-12-29T10:35:00Z",
  "message": "Document uploaded successfully"
}
```

GET `/api/documents/{id}/download`

Download a specific document

```
GET /api/documents/doc_456/download

// Response
Content-Type: application/pdf
Content-Disposition: attachment; filename="manual.pdf"
[Binary file content]
```

DELETE `/api/documents/{id}`

Delete a document

```
DELETE /api/documents/doc_456

// Response
{
  "message": "Document successfully deleted",
  "deleted_id": "doc_456"
}
```

### Alert Management

GET `/api/alerts`

Retrieve system alerts with filtering options

```
GET /api/alerts?severity=critical&status=unread&limit=10

// Response
{
  "alerts": [\
    {\
      "id": "alert_123",\
      "device_id": "device_456",\
      "title": "Safety Recall Notice",\
      "description": "Refrigerator recall due to potential fire hazard",\
      "severity": "critical",\
      "type": "recall",\
      "status": "unread",\
      "created_at": "2024-12-29T08:00:00Z",\
      "actions": [\
        {\
          "type": "contact_manufacturer",\
          "label": "Contact Samsung",\
          "url": "https://samsung.com/recall"\
        }\
      ]\
    }\
  ],
  "total": 1,
  "unread_count": 3
}
```

POST `/api/alerts/{id}/acknowledge`

Mark an alert as acknowledged

```
POST /api/alerts/alert_123/acknowledge

// Response
{
  "id": "alert_123",
  "status": "acknowledged",
  "acknowledged_at": "2024-12-29T10:45:00Z",
  "message": "Alert marked as acknowledged"
}
```

POST `/api/alerts`

Create a custom alert

```
POST /api/alerts
{
  "device_id": "device_789",
  "title": "Maintenance Reminder",
  "description": "Annual HVAC filter replacement due",
  "severity": "info",
  "type": "maintenance",
  "scheduled_date": "2025-01-15T00:00:00Z"
}

// Response
{
  "id": "alert_124",
  "device_id": "device_789",
  "title": "Maintenance Reminder",
  "severity": "info",
  "status": "scheduled",
  "created_at": "2024-12-29T10:50:00Z"
}
```

GET `/api/alerts/stats`

Get alert statistics and summary

```
GET /api/alerts/stats

// Response
{
  "total_alerts": 15,
  "unread_count": 3,
  "by_severity": {
    "critical": 1,
    "warning": 5,
    "info": 9
  },
  "by_type": {
    "recall": 1,
    "firmware_update": 4,
    "warranty": 6,
    "maintenance": 4
  },
  "recent_activity": "2024-12-29T08:00:00Z"
}
```

## SDK Downloads

### JavaScript SDK

Full-featured SDK for web applications

Download

### Python SDK

Comprehensive Python library

Download

### REST Documentation

Complete API reference

View Docs

## Webhooks

Subscribe to real-time events and notifications from Electric Home Hub

POST `/api/webhooks`

Create a new webhook subscription

```
POST /api/webhooks
{
  "url": "https://your-app.com/webhooks/electric-home-hub",
  "events": ["device.created", "alert.critical", "warranty.expiring"],
  "description": "Production webhook for device monitoring"
}

// Response
{
  "id": "webhook_456",
  "url": "https://your-app.com/webhooks/electric-home-hub",
  "events": ["device.created", "alert.critical", "warranty.expiring"],
  "secret": "whsec_1234567890abcdef",
  "created_at": "2024-12-29T11:00:00Z",
  "status": "active"
}
```

#### Webhook Events

**device.created** \- New device added


**device.updated** \- Device information changed


**device.deleted** \- Device removed


**alert.critical** \- Critical alert triggered


**alert.created** \- New alert generated


**warranty.expiring** \- Warranty expiring soon


**document.uploaded** \- New document added


#### Webhook Payload Example

```
{
  "id": "evt_789",
  "event": "alert.critical",
  "created_at": "2024-12-29T11:15:00Z",
  "data": {
    "alert": {
      "id": "alert_123",
      "device_id": "device_456",
      "title": "Safety Recall Notice",
      "severity": "critical",
      "type": "recall",
      "description": "Refrigerator recall due to potential fire hazard"
    },
    "device": {
      "id": "device_456",
      "name": "Smart Refrigerator",
      "manufacturer": "Samsung",
      "model": "RF28R7351SR"
    }
  }
}
```

## Error Handling

Electric Home Hub API uses conventional HTTP response codes and returns error details in JSON format.

#### Error Response Format

```
{
  "error": {
    "code": "validation_error",
    "message": "Invalid device data provided",
    "details": [\
      {\
        "field": "warranty_expiry",\
        "message": "Date must be in ISO 8601 format"\
      }\
    ],
    "request_id": "req_abc123"
  }
}
```

#### HTTP Status Codes

200OK - Request successful

201Created - Resource created successfully

400Bad Request - Invalid request data

401Unauthorized - Invalid API key

403Forbidden - Insufficient permissions

404Not Found - Resource doesn't exist

429Too Many Requests - Rate limit exceeded

500Internal Server Error - Server error

## Advanced Examples

#### Bulk Device Import

```
POST /api/devices/bulk
{
  "devices": [\
    {\
      "name": "Smart TV",\
      "manufacturer": "LG",\
      "model": "OLED55C1PUB",\
      "category": "Entertainment",\
      "warranty_expiry": "2025-06-01"\
    },\
    {\
      "name": "Coffee Maker",\
      "manufacturer": "Keurig",\
      "model": "K-Elite",\
      "category": "Appliances",\
      "warranty_expiry": "2025-03-15"\
    }\
  ]
}

// Response
{
  "imported": 2,
  "failed": 0,
  "devices": [\
    {"id": "device_101", "name": "Smart TV"},\
    {"id": "device_102", "name": "Coffee Maker"}\
  ]
}
```

#### Search Across All Data

```
GET /api/search?q=samsung&include=devices,documents,alerts

// Response
{
  "query": "samsung",
  "results": {
    "devices": [\
      {\
        "id": "device_123",\
        "name": "Smart Refrigerator",\
        "manufacturer": "Samsung",\
        "relevance": 0.95\
      }\
    ],
    "documents": [\
      {\
        "id": "doc_456",\
        "name": "Samsung RF28R7351SR Manual",\
        "relevance": 0.87\
      }\
    ],
    "alerts": [\
      {\
        "id": "alert_789",\
        "title": "Samsung Refrigerator Recall",\
        "relevance": 0.92\
      }\
    ]
  },
  "total_results": 3
}
```

#### Export Data

```
POST /api/export
{
  "format": "csv",
  "include": ["devices", "documents"],
  "filters": {
    "device_category": "Appliances",
    "date_range": {
      "start": "2024-01-01",
      "end": "2024-12-31"
    }
  }
}

// Response
{
  "export_id": "exp_456",
  "status": "processing",
  "download_url": null,
  "estimated_completion": "2024-12-29T11:25:00Z"
}

// Check export status
GET /api/export/exp_456

{
  "export_id": "exp_456",
  "status": "completed",
  "download_url": "https://api.electrichomehub.com/exports/exp_456.csv",
  "expires_at": "2024-12-30T11:20:00Z"
}
```

## Authentication

All API requests require authentication using your API key in the Authorization header:

```
Authorization: Bearer YOUR_API_KEY
```

#### Complete Example Request

```
curl -X GET \
  "https://api.electrichomehub.com/v1/devices" \
  -H "Authorization: Bearer ehk_prod_1234567890abcdef" \
  -H "Content-Type: application/json" \
  -H "User-Agent: MyApp/1.0"

// JavaScript Example
const response = await fetch('https://api.electrichomehub.com/v1/devices', {
  method: 'GET',
  headers: {
    'Authorization': 'Bearer ehk_prod_1234567890abcdef',
    'Content-Type': 'application/json'
  }
});

const devices = await response.json();

// Python Example
import requests

headers = {
    'Authorization': 'Bearer ehk_prod_1234567890abcdef',
    'Content-Type': 'application/json'
}

response = requests.get(
    'https://api.electrichomehub.com/v1/devices',
    headers=headers
)

devices = response.json()
```

#### Rate Limiting

**Free Plan:** 100 requests/hour


**Developer Plan:** 1,000 requests/hour


**Professional Plan:** 5,000 requests/hour


**Enterprise Plan:** 25,000 requests/hour


Rate limit headers included in all responses:

```
X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 999
X-RateLimit-Reset: 1640995200
```